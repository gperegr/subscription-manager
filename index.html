<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Assinaturas</title>

    <!-- Custom Fonts: Bookmania and Boston -->


    <!-- Configuração de Utilitários Genéricos (Tailwind mantido para layout grid/flex, espaçamentos p-*, m-*) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body class="min-h-screen transition-colors">

    <div class="max-w-md mx-auto px-4 py-6">

        <div id="main-view">
            <!-- Cabeçalho / Resumo (Block White #FFFFFF) -->
            <div class="p-5 rounded-[32px] mb-6 flex flex-col justify-between"
                style="background: linear-gradient(180deg, #FFFFFF 0%, #F0F0F0 100%); min-height: 600px;">

                <!-- Plasma Blob Centered -->
                <div class="flex-1 flex items-center justify-center py-8">
                    <div class="plasma-blob">
                        <div class="text-center">
                            <p class="text-black/50 mb-2 text-sm">Gasto Total Mensal</p>
                            <p class="text-black font-bookmania font-normal text-[3.2rem] leading-none"
                                id="total-monthly-cost">
                                R$ 0,00
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Toolbar de Ordenação Integrada ao App.tsx visual -->
                <div>
                    <button onclick="toggleView('form')"
                        class="w-full px-6 py-4 rounded-[24px] bg-black text-white hover:bg-black/90 transition-colors flex items-center justify-center gap-2 font-semibold text-base mb-6">
                        <i class="fa-solid fa-plus"></i> Nova Assinatura
                    </button>

                    <label class="text-black/50 text-sm mb-3 block">Ordenar por</label>
                    <div class="flex items-center gap-2">
                        <i class="fa-solid fa-arrow-up-wide-short text-black/50 w-4 h-4 flex-shrink-0 text-center"></i>
                        <div class="relative flex-1 custom-select w-full" data-id="sort-select">
                            <input type="hidden" id="sort-input" value="cost-desc">
                            <button type="button"
                                class="w-full px-4 py-3 rounded-[24px] text-black border border-black/5 transition-colors focus:border-black/20 outline-none flex items-center justify-between select-button focus:ring-0 focus:outline-0 focus:shadow-none"
                                style="background-color: #F5F5F5;">
                                <span class="select-label truncate text-left text-sm">Maior Custo Mensal</span>
                                <i
                                    class="fa-solid fa-chevron-down text-black/50 text-sm transition-transform duration-200"></i>
                            </button>
                            <div
                                class="select-options hidden absolute top-full left-0 right-0 mt-2 rounded-[24px] overflow-hidden border border-black/5 z-50 bg-[#F5F5F5] overflow-y-auto w-full shadow-xl">
                                <button type="button"
                                    class="select-option w-full px-5 py-3 text-left transition-all flex items-center justify-between text-[0.9375rem] text-black/70 hover:bg-black/5"
                                    data-value="name-asc">
                                    <span>Ordem Alfabética</span>
                                </button>
                                <button type="button"
                                    class="select-option w-full px-5 py-3 text-left transition-all flex items-center justify-between text-[0.9375rem] text-black border-t border-black/5 font-semibold hover:bg-black/5"
                                    data-value="cost-desc">
                                    <span>Maior Custo Mensal</span>
                                    <i class="fa-solid fa-check ml-2 text-black"></i>
                                </button>
                                <button type="button"
                                    class="select-option w-full px-5 py-3 text-left transition-all flex items-center justify-between text-[0.9375rem] text-black/70 border-t border-black/5 hover:bg-black/5"
                                    data-value="cost-asc">
                                    <span>Menor Custo Mensal</span>
                                </button>
                                <button type="button"
                                    class="select-option w-full px-5 py-3 text-left transition-all flex items-center justify-between text-[0.9375rem] text-black/70 border-t border-black/5 hover:bg-black/5"
                                    data-value="use-desc">
                                    <span>Maior Custo por Uso</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lista de Assinaturas -->
            <div id="subscriptions-list" class="space-y-6">
                <!-- Os cartões de assinatura serão injetados aqui via JS -->
            </div>
        </div>

        <div id="form-view" class="hidden">
            <div class="w-full">
                <div class="w-full p-6 rounded-[24px]" style="background-color: #1A1C19;">
                    <div class="flex items-center justify-between mb-6">
                        <h2 id="form-title" class="text-white font-bookmania text-[1.75rem] font-normal">
                            Nova Assinatura
                        </h2>
                        <button onclick="cancelEdit()"
                            class="w-9 h-9 rounded-full bg-white/10 active:bg-white/20 flex items-center justify-center transition-colors flex-shrink-0">
                            <i class="fa-solid fa-times text-white"></i>
                        </button>
                    </div>

                    <form id="subscription-form" class="space-y-5" novalidate>
                        <div>
                            <label class="block text-white/70 mb-2 text-sm">Nome do Serviço</label>
                            <input type="text" id="sub-name" required placeholder="Ex: Netflix, Spotify..."
                                class="w-full px-4 py-3 rounded-2xl text-white border border-white/10 transition-colors focus:border-white/30 outline-none placeholder-white/30 text-base"
                                style="background-color: #080808;">
                        </div>

                        <div>
                            <label class="block text-white/70 mb-2 text-sm">Categoria</label>
                            <div class="relative custom-select" id="custom-cat">
                                <input type="hidden" id="sub-category" value="Streamings">
                                <button type="button"
                                    class="w-full px-4 py-3 rounded-2xl text-white border border-white/10 transition-colors focus:border-white/30 outline-none flex items-center justify-between select-button focus:ring-0 focus:outline-0 focus:shadow-none"
                                    style="background-color: #080808;">
                                    <span class="select-label truncate text-left text-base">Streamings</span>
                                    <i
                                        class="fa-solid fa-chevron-down text-white/50 text-sm transition-transform duration-200"></i>
                                </button>
                                <div
                                    class="select-options hidden absolute top-full left-0 right-0 mt-2 rounded-[24px] overflow-hidden border border-white/10 z-50 bg-[#1A1C19] overflow-y-auto focus:outline-none">
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white font-semibold hover:bg-white/10 outline-none focus:outline-none focus:ring-0"
                                        data-value="Streamings">
                                        <span>Streamings</span>
                                        <i class="fa-solid fa-check ml-2 text-white"></i>
                                    </button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Softwares"><span>Softwares</span></button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Saúde"><span>Saúde</span></button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Mercado"><span>Mercado</span></button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Educação"><span>Educação</span></button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Compras"><span>Compras</span></button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Fitness"><span>Fitness</span></button>
                                    <button type="button"
                                        class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                        data-value="Outros"><span>Outros</span></button>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-white/70 mb-2 text-sm">Valor</label>
                                <input type="number" id="sub-price" required min="0.01" step="0.01" placeholder="0.00"
                                    class="w-full px-4 py-3 rounded-2xl text-white border border-white/10 transition-colors focus:border-white/30 outline-none placeholder-white/30 text-base"
                                    style="background-color: #080808;">
                            </div>
                            <div>
                                <label class="block text-white/70 mb-2 text-sm">Período</label>
                                <div class="relative custom-select" id="custom-period">
                                    <input type="hidden" id="sub-period" value="monthly">
                                    <button type="button"
                                        class="w-full px-4 py-3 rounded-2xl text-white border border-white/10 transition-colors focus:border-white/30 outline-none flex items-center justify-between select-button focus:ring-0 focus:outline-0 focus:shadow-none"
                                        style="background-color: #080808;">
                                        <span class="select-label truncate text-left text-base">Mensal</span>
                                        <i
                                            class="fa-solid fa-chevron-down text-white/50 text-sm transition-transform duration-200"></i>
                                    </button>
                                    <div
                                        class="select-options hidden absolute top-full left-0 right-0 mt-2 rounded-[24px] overflow-hidden border border-white/10 z-50 bg-[#1A1C19] overflow-y-auto focus:outline-none">
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white font-semibold hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="monthly">
                                            <span>Mensal</span>
                                            <i class="fa-solid fa-check ml-2 text-white"></i>
                                        </button>
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="yearly"><span>Anual</span></button>
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="weekly"><span>Semanal</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-3 pb-2">
                            <div>
                                <label class="block text-white/70 mb-2 text-sm">Frequência</label>
                                <input type="number" id="sub-usage-count" min="0" step="1" placeholder="Ex: 12"
                                    class="w-full px-4 py-3 rounded-2xl text-white border border-white/10 transition-colors focus:border-white/30 outline-none placeholder-white/30 text-base"
                                    style="background-color: #080808;">
                            </div>
                            <div>
                                <label class="block text-white/70 mb-2 text-sm">Período</label>
                                <div class="relative custom-select" id="custom-usage-period">
                                    <input type="hidden" id="sub-usage-period" value="monthly">
                                    <button type="button"
                                        class="w-full px-4 py-3 rounded-2xl text-white border border-white/10 transition-colors focus:border-white/30 outline-none flex items-center justify-between select-button focus:ring-0 focus:outline-0 focus:shadow-none"
                                        style="background-color: #080808;">
                                        <span class="select-label truncate text-left text-base">Mês</span>
                                        <i
                                            class="fa-solid fa-chevron-down text-white/50 text-sm transition-transform duration-200"></i>
                                    </button>
                                    <div
                                        class="select-options hidden absolute top-full left-0 right-0 mt-2 rounded-[24px] overflow-hidden border border-white/10 z-50 bg-[#1A1C19] overflow-y-auto w-full focus:outline-none">
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="daily"><span>Dia</span></button>
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="weekly"><span>Semana</span></button>
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white font-semibold border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="monthly">
                                            <span>Mês</span>
                                            <i class="fa-solid fa-check ml-2 text-white"></i>
                                        </button>
                                        <button type="button"
                                            class="select-option w-full px-5 py-3.5 text-left transition-all flex items-center justify-between text-[0.9375rem] text-white/70 border-t border-white/5 hover:bg-white/10 outline-none focus:outline-none"
                                            data-value="yearly"><span>Ano</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="text-white/50 mt-1 mb-4 text-[0.8125rem]">Opcional. Ajuda a calcular custo por uso</p>

                        <div class="space-y-3 pt-2">
                            <button type="submit" id="submit-btn"
                                class="w-full py-3 rounded-full bg-white text-black active:bg-white/90 transition-colors font-semibold">
                                Adicionar Assinatura
                            </button>
                            <button type="button" onclick="cancelEdit()"
                                class="w-full py-3 rounded-full bg-white/10 text-white active:bg-white/20 transition-colors font-semibold">
                                Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>

</html>